<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
        <span class="navbar-text text-white" th:if="${user != null}">
            <b th:text="${user.email}"></b> —Å —Ä–æ–ª—è–º–∏:
            <b th:each="role : ${user.roles}" th:text="${role.name} + ' '"></b>
        </span>

        <form th:action="@{/logout}" method="post" class="d-inline">
            <button type="submit" class="btn btn-outline-light btn-sm">–í—ã–π—Ç–∏</button>
        </form>
    </div>
</nav>

<div class="container mt-4">
    <div class="row">
        <div class="col-md-3">
            <div class="list-group">
                <a th:href="@{/home}" class="list-group-item list-group-item-action">üè† –ì–ª–∞–≤–Ω–∞—è</a>
                <a th:href="@{/products}" class="list-group-item list-group-item-action">üì¶ –¢–æ–≤–∞—Ä—ã</a>
                <a th:href="@{/categories}" class="list-group-item list-group-item-action">üóÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
                <a th:href="@{/suppliers}" class="list-group-item list-group-item-action">üöö –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏</a>
                <a th:href="@{/recipients}" class="list-group-item list-group-item-action">üì¨ –ü–æ–ª—É—á–∞—Ç–µ–ª–∏</a>
                <a th:href="@{/movements}" class="list-group-item list-group-item-action">üîÑ –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏—è</a>
                <a th:href="@{/locations}" class="list-group-item list-group-item-action">üìç –ó–æ–Ω—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è</a>
                <a th:href="@{/reports}" class="list-group-item list-group-item-action">üìë –û—Ç—á–µ—Ç—ã</a>
                <a th:href="@{/admin/}" class="list-group-item list-group-item-action"
                   th:if="${user != null and user.roles.?[name == 'ADMIN'].size() > 0}">
                    ‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
                </a>
            </div>

        </div>
        <div class="col-md-9">
            <h2 class="mb-3">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>

            <h4>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h4>
            <table class="table table-bordered">
                <tr><th>ID</th><td th:text="${user.id}"></td></tr>
                <tr><th>–ò–º—è</th><td th:text="${user.firstName}"></td></tr>
                <tr><th>–§–∞–º–∏–ª–∏—è</th><td th:text="${user.lastName}"></td></tr>
                <tr><th>Email</th><td th:text="${user.email}"></td></tr>
                <tr><th>–†–æ–ª–∏</th><td th:each="role : ${user.roles}" th:text="${role.name}">ROLE_USER</td></tr>
            </table>

            <h4 class="mt-4">–¢–æ–≤–∞—Ä—ã –Ω–∞ —Å–∫–ª–∞–¥–µ</h4>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>–ê—Ä—Ç–∏–∫—É–ª</th>
                    <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                    <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                    <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                    <th>–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="product : ${products}">
                    <td th:text="${product.sku}">12345</td>
                    <td th:text="${product.name}">–¢–æ–≤–∞—Ä</td>
                    <td th:text="${product.category.name}">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</td>
                    <td th:text="${product.quantity}">10</td>
                    <td th:text="${product.location.zone + '-' + product.location.shelf}">A-1</td>
                </tr>
                </tbody>
            </table>

            <h4 class="mt-4">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è</h4>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>–¢–æ–≤–∞—Ä</th>
                    <th>–¢–∏–ø</th>
                    <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                    <th>–î–∞—Ç–∞</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="move : ${movements}">
                    <td th:text="${move.product.name}">–¢–æ–≤–∞—Ä</td>
                    <td th:text="${move.movementType}">–ü—Ä–∏—Ö–æ–¥</td>
                    <td th:text="${move.quantity}">5</td>
                    <td th:text="${move.movementDate}">2025-04-03</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
